<html>
    <head>
        <!-- App -->

        <script>
            
        </script>
        <script src="../../dist/dash.all.debug.js"></script>

        <!-- EXMG MQTT -->
        <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    </head>
    <body>

        <p style="text-align: center;">
            <video style="width: 80%" id="videoPlayer" controls muted></video>
            <br><br>
            <button onclick="go()">Go</button>
        </p>

        <script>
            var url = `http://10.211.55.6:8080/out.mpd`;
            var video = document.querySelector("#videoPlayer");
            var player = null;

            function go() {
                player && player.reset();
                player = dashjs.MediaPlayer().create();

                window.player = player;

                player.updateSettings({ 
                    debug: { 
                        logLevel: dashjs.Debug.LOG_LEVEL_DEBUG 
                    }, 
                    streaming: {
                        //lowLatencyEnabled: true,
                        liveDelay: 0,
                        keyFilesBaseUrl: "http://10.211.55.6:8080"
                    },
                });

                player.initialize(video, url, true);

                video.play();
            }
        </script>
    </body>
</html>